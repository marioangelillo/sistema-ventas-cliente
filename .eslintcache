[{"E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\reportWebVitals.js":"1","E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\App.js":"2","E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\index.js":"3","E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\layout\\Header.js":"4","E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\components\\EmisorTickets.js":"5","E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\components\\Menu.js":"6","E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\components\\AddProduct.js":"7","E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\components\\ModalFindProducts.js":"8","E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\components\\ModalUpdateProducts.js":"9","E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\components\\ManageProduct.js":"10"},{"size":362,"mtime":1607456399832,"results":"11","hashOfConfig":"12"},{"size":1716,"mtime":1613181473884,"results":"13","hashOfConfig":"12"},{"size":547,"mtime":1607530144306,"results":"14","hashOfConfig":"12"},{"size":640,"mtime":1613083372151,"results":"15","hashOfConfig":"12"},{"size":5885,"mtime":1613182246896,"results":"16","hashOfConfig":"12"},{"size":2408,"mtime":1613431505679,"results":"17","hashOfConfig":"12"},{"size":3139,"mtime":1612645969573,"results":"18","hashOfConfig":"12"},{"size":2317,"mtime":1612898818572,"results":"19","hashOfConfig":"12"},{"size":3806,"mtime":1613431798639,"results":"20","hashOfConfig":"12"},{"size":4696,"mtime":1613431797626,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"1txrvgn",{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"30"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\reportWebVitals.js",[],["46","47"],"E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\App.js",["48","49"],"import React, {useState, useEffect} from 'react'\nimport './App.css';\nimport { Container } from 'react-bootstrap';\nimport {BrowserRouter, Switch, Route, Redirect } from 'react-router-dom'; \nimport EmisorTickets from './components/EmisorTickets';\nimport Menu from './components/Menu';\nimport AddProduct from './components/AddProduct';\nimport Header from './layout/Header'\nimport DeleteProduct from './components/DeleteProduct';\n\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport {\t\n  faHome  \n} from \"@fortawesome/free-solid-svg-icons\";\n\nlibrary.add(faHome)\n\n\nfunction App() {\n\n  const [date, setDate] = useState();\n\n  useEffect(() => {\n    let date = new Date()\n    let day = date.getDate()\n    let month = date.getMonth() + 1\n    let year = date.getFullYear()\n\n    if(month < 10){\n      setDate(`${day}/0${month}/${year}`);\n    }else{\n      setDate(`${day}/${month}/${year}`);\n    }    \n  }, [])\n\n  return (\n    <>\n\n      <Header date={date} />\n      <BrowserRouter>\n        <Switch>\n\n        <Route\n            path=\"/\"\n            exact\n            component = { () => \n              <Menu />\n            }\n          />\n\n          <Route\n            path=\"/emisionticket\"\n            exact\n            component = { () => \n              <EmisorTickets />\n            }\n          />\n\n          <Route\n            path=\"/addproduct\"\n            exact\n            component = { () => \n              <AddProduct />\n            }\n          />\n\n          <Route\n            path=\"/deleteproduct\"\n            exact\n            component = { () => \n              <DeleteProduct />\n            }\n          />\n          \n\n        </Switch>\n      </BrowserRouter>\n      \n    </>\n  );\n}\n\nexport default App;\n","E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\index.js",[],["50","51"],"E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\layout\\Header.js",[],"E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\components\\EmisorTickets.js",["52"],"import React, {useState, useEffect} from 'react';\r\nimport { Form, Button, Col, Table } from 'react-bootstrap';\r\nimport ModalFindProducts from './ModalFindProducts';\r\nimport TableScrollbar from 'react-table-scrollbar';\r\n\r\nexport default function EmisorTickets() {\r\n\r\n    const [show, setShow] = useState(false);\r\n    const handleClose = () => setShow(false);\r\n    const handleShow = () => setShow(true);\r\n\r\n    const [product, setProduct] = useState({\r\n        name: ''\r\n    });    \r\n\r\n    const [findProducts, setFindProducts] = useState([]);\r\n    const [shopList, setShopList] = useState([]);\r\n\r\n    const [subtotal, setSubtotal] = useState();\r\n    const [total, setTotal] = useState()\r\n\r\n    useEffect(() => {\r\n        let suma = 0;\r\n        for (let i = 0; i < shopList.length; i++) {\r\n            suma = suma + shopList[i].subtotal;            \r\n        }\r\n        setSubtotal(suma);\r\n        setTotal(suma);\r\n        // decscuento setTotal(suma * 0.75);\r\n    }, [shopList])\r\n\r\n    const handleChange = e => {\r\n        setProduct({\r\n            ...product,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = async e => {\r\n        e.preventDefault();\r\n        if(product.name === ''){\r\n            alert('Debe ingresar nombre del producto');\r\n            return;\r\n        }\r\n        const solicitud = await fetch('http://localhost:4000/api/find',{   \r\n        method: 'POST',     \r\n        body : JSON.stringify(product),\r\n        headers : {\r\n        'Content-Type': 'application/json'\r\n        }\r\n        });\r\n        \r\n        console.log(solicitud);\r\n        const respuesta = await solicitud.json();\r\n        console.log(respuesta);\r\n\r\n        if(solicitud.ok){\r\n            setFindProducts(respuesta);  \r\n            setProduct({\r\n                name: ''\r\n            })\r\n        }else {\r\n            alert('Hubo un error');\r\n        }\r\n        handleShow();\r\n    }\r\n\r\n    const handleChangeCantidad = (producto) =>{ \r\n        /*if(0 >= document.getElementById(producto.id).value){\r\n            alert('La cantidad mÃ­nima es 1')\r\n        }*/      \r\n        setShopList([\r\n            ...shopList.map(prod => prod.id === producto.id ? \r\n             {...prod,                \r\n                 cantidad : document.getElementById(producto.id).value,\r\n                 subtotal : document.getElementById(producto.id).value * producto.precio\r\n             } \r\n             : prod\r\n             )\r\n        ])\r\n        console.log(producto);\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Form className=\"my-3 mx-1\" onSubmit={handleSubmit}>\r\n                <Form.Row>\r\n                    <Col xs={9} sm={10}>\r\n                    <Form.Control\r\n                    name=\"name\"\r\n                    value={product.name}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Nombre del producto\"\r\n                    required\r\n                    />\r\n                    </Col>\r\n                    <Col xs={3} sm={2}>\r\n                    <Button variant=\"primary w-100\" type=\"submit\">Buscar</Button>\r\n                    </Col>                    \r\n                </Form.Row>\r\n            </Form>\r\n                <div className=\"scrollable text-center\">\r\n                    <Table striped bordered responsive size=\"sm\">\r\n                        \r\n                        <thead>\r\n                            <tr>\r\n                            <th>#</th>\r\n                            <th>Producto</th>\r\n                            <th>Cantidad</th>\r\n                            <th>Precio</th>\r\n                            <th>Subtotal</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {\r\n                            shopList.map(producto =>(\r\n                                <tr>\r\n                                <td>{producto.id}</td>\r\n                                <td>{producto.nombre}</td>\r\n                                <td><input\r\n                                id={producto.id}\r\n                                className=\"text-center\"\r\n                                type=\"number\"\r\n                                min={1}\r\n                                defaultValue={1}\r\n                                onChange={() => handleChangeCantidad(producto)}/></td>\r\n                                <td>${producto.precio}</td>\r\n                                <td>${producto.subtotal}</td>\r\n                                </tr>\r\n                            ))\r\n                        }\r\n                                \r\n                        </tbody>\r\n                    </Table>           \r\n                </div>            \r\n\r\n            <div className=\"fixed-bottom\">\r\n                <div className=\"card col-12 col-md-3 offset-md-9\">\r\n                    <ul className=\"list-group list-group-flush\">                        \r\n                        <li className=\"list-group-item d-flex justify-content-between\">\r\n                            <div>Subtotal: </div>\r\n                            <div>${subtotal}</div>\r\n                        </li>\r\n                        <li className=\"list-group-item d-flex justify-content-between\">\r\n                            <div>Total: </div>\r\n                            <div>${total}</div>\r\n                        </li>\r\n                        <li className=\"list-group-item\">\r\n                            <Button variant=\"success w-100\">FINALIZAR VENTA</Button>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n\r\n            <ModalFindProducts \r\n                show={show}\r\n                handleShow={handleShow}\r\n                handleClose={handleClose}\r\n                findProducts={findProducts}\r\n                shopList={shopList} setShopList={setShopList}\r\n            />\r\n        </>\r\n    )\r\n}\r\n","E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\components\\Menu.js",[],"E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\components\\AddProduct.js",[],"E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\components\\ModalFindProducts.js",[],"E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\components\\ModalUpdateProducts.js",[],"E:\\PROGRAMACION\\PROYECTOS\\Sistema_de_ventas\\sistema-ventas-cliente\\src\\components\\ManageProduct.js",[],{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","replacedBy":"56"},{"ruleId":"57","severity":1,"message":"58","line":3,"column":10,"nodeType":"59","messageId":"60","endLine":3,"endColumn":19},{"ruleId":"57","severity":1,"message":"61","line":4,"column":39,"nodeType":"59","messageId":"60","endLine":4,"endColumn":47},{"ruleId":"53","replacedBy":"62"},{"ruleId":"55","replacedBy":"63"},{"ruleId":"57","severity":1,"message":"64","line":4,"column":8,"nodeType":"59","messageId":"60","endLine":4,"endColumn":22},"no-native-reassign",["65"],"no-negated-in-lhs",["66"],"no-unused-vars","'Container' is defined but never used.","Identifier","unusedVar","'Redirect' is defined but never used.",["65"],["66"],"'TableScrollbar' is defined but never used.","no-global-assign","no-unsafe-negation"]